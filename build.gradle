/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn more about Gradle by exploring our samples at https://docs.gradle.org/6.8/samples
 */
plugins {
    id 'idea'
    id 'java'
    id 'scala'
    id 'application'
    id 'io.spring.dependency-management' version '1.0.10.RELEASE'
}

allprojects {
    repositories {
        jcenter()
        maven { url "https://maven.aliyun.com/repository/spring" }
        maven { url "https://maven.aliyun.com/repository/google" }
        maven { url "https://maven.aliyun.com/repository/public" }
        maven { url "https://maven.aliyun.com/repository/central" }
        maven { url "https://maven.aliyun.com/repository/jcenter" }
        maven { url "https://maven.aliyun.com/repository/releases" }
        maven { url "https://maven.aliyun.com/repository/spring-plugin" }
        maven { url "https://maven.aliyun.com/repository/gradle-plugin" }
    }
}

subprojects {
    apply plugin: 'idea'
    apply plugin: 'java'
    apply plugin: 'scala'
    apply plugin: 'application'
    apply plugin: 'io.spring.dependency-management'

    ext {
        //scala2.11.12--spark2.4.5
        //scala2.12.12--spark3.0.0
        junitVersion = '4.13'
        log4jVersion = '1.2.17'
        slf4jversion = '1.7.30'
        redisVersion = '3.4.0'
        jblasVersion = '1.2.5'
        kafkaVersion = '2.5.0'
        hbaseVersion = '2.2.5'
        sparkVersion = '3.0.0'
        jacksonVersion = '2.9.8'
        elasticVersion = '7.9.3'
        scalaVersion = '2.12.12'
        guavaVersion = '29.0-jre'
        lombokVersion = '1.18.16'
    }

    dependencies {
        testImplementation "junit:junit:${junitVersion}"
        compileOnly "org.projectlombok:lombok:${lombokVersion}"
        implementation "org.slf4j:slf4j-log4j12:${slf4jversion}"
        //implementation "com.google.guava:guava:${guavaVersion}"
        implementation "org.scala-lang:scala-library:${scalaVersion}"
        annotationProcessor "org.projectlombok:lombok:${lombokVersion}"
        //implementation "com.fasterxml.jackson.core:jackson-core:${jacksonVersion}"
    }

    dependencyManagement {
        dependencies {
            //common
            dependency "org.jblas:jblas:${jblasVersion}"
            dependency "redis.clients:jedis:${redisVersion}"
            //kafka
            dependency "org.apache.kafka:kafka-clients:${kafkaVersion}"
            dependency "org.apache.kafka:kafka-streams:${kafkaVersion}"
            //spark
            dependency "org.apache.spark:spark-core_2.12:${sparkVersion}"
            dependency "org.apache.spark:spark-sql_2.12:${sparkVersion}"
            dependency "org.apache.spark:spark-mllib_2.12:${sparkVersion}"
            dependency "org.apache.spark:spark-graphx_2.12:${sparkVersion}"
            dependency "org.apache.spark:spark-streaming_2.12:${sparkVersion}"
            dependency "org.apache.spark:spark-yarn_2.12:${sparkVersion}"
            dependency "org.apache.spark:spark-kubernetes_2.12:${sparkVersion}"
            dependency "org.apache.spark:spark-streaming-kafka-0-10_2.12:${sparkVersion}"
            //elasticsearch
            // dependency "org.elasticsearch.client:transport:${elasticVersion}"
            // dependency "org.elasticsearch:elasticsearch-spark-20_2.11:${elasticVersion}"
        }
    }
}